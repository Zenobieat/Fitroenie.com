<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fitroenie Quizportaal</title>
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap"
  />
  <link rel="icon" href="/logo.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="styles.css?v=18" />
</head>
<body>
  <header class="topbar">
    <div class="nav__left">
      <div class="logo"><img src="/logo.svg" alt="Fitroenie" class="logo__img" /> Fitroenie</div>
      <nav class="nav" aria-label="Hoofdmenu">
        <div class="subject-menu" id="subject-menu">
          <button class="nav__link" id="subject-menu-toggle" type="button" aria-expanded="false" aria-haspopup="true">
            <span>Vakken</span>
          </button>
          <div class="subject-menu__panel" id="subject-menu-panel" hidden aria-label="Beschikbare vakken"></div>
        </div>
        <div class="nav__pillbar" role="list">
          <button class="pill is-active" data-view-target="home" role="listitem" type="button">Start</button>
          <button class="pill" data-view-target="anatomie" data-panel-target="quiz-panel" role="listitem" type="button">Examens</button>
          <button class="pill" data-view-target="anatomie" data-panel-target="practice-panel" role="listitem" type="button">Oefenen</button>
          <button class="pill" id="gamemode-nav" role="listitem" type="button">Join</button>
          <button class="pill" data-view-target="profile" role="listitem" type="button">Profiel</button>
        </div>
      </nav>
    </div>
    <div class="nav__actions">
      <div class="account" id="account">
        <img id="account-avatar" class="avatar" alt="Profiel" hidden />
        <button class="btn ghost" id="login-btn" type="button">Inloggen / Registreren</button>
        <button class="icon-btn" id="account-toggle" aria-label="Accountmenu" aria-expanded="false">▾</button>
        <div class="account__panel" id="account-panel" hidden>
          <p class="caption">Log in om voortgang te bewaren en tussen apparaten te delen.</p>
          <div class="account__actions">
            <button class="btn full" id="account-login" type="button">Inloggen</button>
            <button class="btn tertiary full" id="account-register" type="button">Registreren</button>
            <button class="btn ghost full" id="account-profile" type="button">Profiel</button>
            <button class="btn full" id="account-logout" type="button">Uitloggen</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="layout">
    <section class="view view--home active" data-view="home">
      <header class="hero hero--lux">
        <div class="hero__content">
          <p class="eyebrow">Fitroenie.com</p>
          <h1>Ontdek vakken en start meteen met oefenen</h1>
          <p class="lede">Zoek een vak of blader door de catalogus. Simpel, professioneel en met een frisse look om vlot te studeren.</p>
          <div class="hero__search">
            <div class="searchbar">
              <input id="subject-search" type="text" placeholder="Zoek een vak of onderdeel…" aria-label="Zoek vak" />
              <button class="btn ghost" type="button" data-view-target="anatomie" data-panel-target="quiz-panel">Examens</button>
              <button class="btn ghost" type="button" data-view-target="anatomie" data-panel-target="practice-panel">Oefenen</button>
              <button class="btn ghost" type="button" data-panel-target="flashcards-panel" data-subject-name="Individuele Fitness">Flashcards</button>
            </div>
          </div>
        </div>
        <div class="hero__glow"></div>
      </header>
      <section class="catalog" aria-label="Vakkencatalogus">
        <header class="catalog__header">
          <div>
            <p class="eyebrow">Catalogus</p>
            <h3>Vakken en onderdelen</h3>
          </div>
          <span class="chip ghost" id="catalog-count">0 vakken</span>
        </header>
        <div id="subject-catalog" class="catalog-grid" aria-live="polite"></div>
      </section>
    </section>

    <section class="view" data-view="anatomie">
      <div class="panel">
          <div class="panel__header">
          <div>
          <p class="eyebrow">Vak</p>
          <h2 id="active-subject">Anatomie</h2>
          <p class="caption">Kies tussen de examens of samenvattingen. Voortgang blijft lokaal bewaard.</p>
          </div>
          <div class="tabbar segmented" id="section-tabs" aria-label="Anatomie secties">
            <button class="tab active" type="button" data-panel-target="quiz-panel">Examens</button>
            <button class="tab" type="button" data-panel-target="practice-panel">Oefenen</button>
            <button class="tab" type="button" data-panel-target="gamemode-panel">Gamemode</button>
            <button class="tab" type="button" data-panel-target="flashcards-panel">Flashcards</button>
          </div>
        </div>

        <div class="content-area subject-layout">
          <aside class="subject-sidebar" id="subject-sidebar" aria-label="Vaknavigatie"></aside>
          <article class="summary" id="practice-panel" data-panel="practice-panel" hidden>
            <h3>Oefenen</h3>
            <p class="lede">Hier komen interactieve oefeningen om je kennis te testen.</p>
            <div id="practice-display">Nog geen oefeningen beschikbaar.</div>
          </article>

          <div id="quiz-panel" data-panel="quiz-panel">
            <div class="progress-banner" id="progress-banner"></div>
            <section id="quiz-picker" class="quiz-picker" aria-live="polite"></section>
          </div>

          <article class="panel panel--gamemode-host" id="gamemode-host-panel" data-panel="gamemode-host-panel" hidden>
             <header class="panel__header">
               <div>
                 <p class="eyebrow">WoenieQuiz</p>
                 <h3>Gamemode (Host)</h3>
                 <p class="caption">Deel de QR of code met spelers en start de quiz.</p>
               </div>
               <span class="chip" id="gm-code-top" aria-live="polite">Code: ••••••</span>
             </header>
            <div class="gamemode-host">
              <div class="gamemode-host__qr">
                <div class="gm-qr-frame" id="gamemode-qr"></div>
                <div class="gm-code-box">
                  <div class="gm-code" id="gm-code-text">••••••</div>
                  <p class="caption">Scan de QR of open Join op je toestel en voer deze 6-cijferige code in om mee te doen.</p>
                </div>
              </div>
              <div class="gamemode-status">
                <div class="gm-connection">
                  <label class="field">
                    <span>Verwachte spelers</span>
                    <input id="gm-expected" type="number" min="1" value="1" />
                  </label>
                  <span class="chip ghost" id="gm-connection-status">0/1 verbonden</span>
                  <span class="chip ghost" id="gamemode-player-count">0 spelers</span>
                </div>
                <span class="chip ghost" id="gamemode-timer">30s</span>
              </div>
              <div class="gamemode-controls">
                <button class="btn primary disabled" id="gamemode-start" type="button" disabled>Start quiz</button>
                <button class="btn" id="gamemode-next" type="button">Volgende vraag</button>
                <button class="btn danger" id="gamemode-end" type="button">Beëindigen</button>
              </div>
              <div class="gamemode-leaderboard" id="gamemode-leaderboard"></div>
              <div class="gamemode-player-list" id="gamemode-player-list"></div>
            </div>
          </article>

          <article class="panel panel--gamemode" id="gamemode-panel" data-panel="gamemode-panel" hidden>
            <header class="panel__header">
              <div>
                <p class="eyebrow">WoenieQuiz</p>
                <h3>Gamemode (Speler)</h3>
                <p class="caption">Scan de QR of voer je code en bijnaam in.</p>
              </div>
            </header>
            <div class="gamemode-join">
              <div class="gamemode-join__methods">
                <button class="btn" id="gamemode-scan" type="button">QR scannen</button>
                <div class="gamemode-code-entry">
                  <label class="field">
                    <span>Code</span>
                    <input id="gamemode-code-input" type="text" placeholder="123456" />
                  </label>
                </div>
                <div class="gamemode-nickname">
                  <label class="field">
                    <span>Bijnaam</span>
                    <input id="gamemode-nickname" type="text" placeholder="Jouw naam" />
                  </label>
                </div>
                <img id="gamemode-avatar" class="avatar" alt="Profielfoto" hidden />
                <button class="btn primary" id="gamemode-join" type="button">Meedoen</button>
              </div>
            </div>
            <div class="gamemode-play" id="gamemode-play" hidden>
              <div class="gamemode-question">
                <h3 id="gamemode-question-title"></h3>
                <p class="lede" id="gamemode-question-text"></p>
                <div class="gamemode-options" id="gamemode-options">
                  <button class="gm-option" data-choice="0"><span class="option__label">A</span></button>
                  <button class="gm-option" data-choice="1"><span class="option__label">B</span></button>
                  <button class="gm-option" data-choice="2"><span class="option__label">C</span></button>
                  <button class="gm-option" data-choice="3"><span class="option__label">D</span></button>
                </div>
              </div>
              <div class="gamemode-play__footer">
                <span class="chip" id="gamemode-player-timer">30s</span>
              </div>
            </div>
          </article>

          <article class="flashcards" id="flashcards-panel" data-panel="flashcards-panel" hidden>
            <h3>Flashcards</h3>
            <p class="lede">Kies een categorie en bekijk de kaarten. Klik op een kaart om te draaien.</p>
            <div id="flashcards-display" class="flashcards__display" aria-live="polite"></div>
          </article>

          <article class="panel panel--runner" id="flashcards-play-panel" data-panel="flashcards-play-panel" hidden>
            <div id="flashcards-play" aria-live="polite"></div>
          </article>
        </div>
      </div>
    </section>

    <section class="view view--quiz" data-view="quizplay">
      <div class="panel panel--runner">
        <div class="panel__header">
          <div>
            <p class="eyebrow">Quizmodus</p>
            <h2 id="quiz-runner-heading">Bezig met een quiz</h2>
            <p class="caption">Antwoord vraag voor vraag en bekijk je score in dit blad.</p>
          </div>
          <div class="tabbar tabbar--inline">
            <button class="tab" id="quiz-exit" type="button">Terug naar overzicht</button>
          </div>
        </div>

        <section id="quiz-runner" class="quiz-runner" hidden aria-live="polite">
          <header class="quiz-runner__header">
            <div>
              <p class="eyebrow" id="quiz-runner-title">Hoofdstuk</p>
              <p class="caption" id="quiz-runner-subtitle">Vraag 1/20</p>
            </div>
            <div class="quiz-runner__actions">
              <button class="btn ghost" id="quiz-exit-compact" type="button">Terug</button>
            </div>
          </header>

          <div class="quiz-runner__card">
            <p class="quiz-runner__step" id="quiz-runner-step">Vraag 1</p>
            <h3 id="quiz-question-title"></h3>
            <p class="lede" id="quiz-question-text"></p>
            <div id="quiz-options" class="options"></div>

            <div class="quiz-runner__footer">
              <p class="caption" id="quiz-runner-hint">Kies een antwoord om verder te gaan.</p>
              <div class="quiz-runner__nav">
                <button class="btn tertiary" id="quiz-prev" type="button">Vorige</button>
                <button class="btn" id="quiz-next" type="button">Volgende</button>
                <button class="btn primary" id="quiz-submit" type="button">Toon score</button>
              </div>
            </div>
          </div>
        </section>

        <section id="quiz-results" class="quiz-results" hidden aria-live="polite">
          <header class="quiz-results__header">
            <div>
              <p class="eyebrow">Resultaat</p>
              <h3 id="quiz-results-title">Score</h3>
              <p class="lede" id="quiz-results-subtitle"></p>
            </div>
            <div class="quiz-results__actions">
              <button class="btn" id="quiz-retake" type="button">Opnieuw maken</button>
              <button class="btn ghost" id="quiz-back" type="button">Terug naar overzicht</button>
            </div>
          </header>

          <div class="quiz-results__list" id="quiz-results-list"></div>
        </section>
      </div>
    </section>

    <section class="view view--profile" data-view="profile">
      <div class="panel panel--profile">
        <div class="panel__header">
          <div>
            <p class="eyebrow">Profiel</p>
            <h2 id="profile-heading">Jouw gegevens</h2>
            <p class="caption" id="profile-subtitle">Log in om je voortgang en resultaten te bekijken.</p>
          </div>
          <div class="tabbar tabbar--inline">
            <button class="tab" id="profile-back" type="button">Terug naar start</button>
          </div>
        </div>

        <div class="profile-grid" aria-live="polite">
          <article class="profile-card profile-card--wide">
            <header class="profile-card__header">
              <p class="eyebrow">Account</p>
              <h3 id="profile-name">Niet ingelogd</h3>
              <img id="profile-avatar" class="avatar avatar--large" alt="Profielfoto" hidden />
            </header>
            <p class="lede" id="profile-email">Meld je aan om je e-mail te tonen.</p>
            <p class="caption" id="profile-status">Geen account actief.</p>
            <div class="profile-fields">
              <div class="profile-username-wrap" id="profile-username-field" hidden>
                <div class="profile-username-header">
                  <span class="field__label" id="profile-username-label">Gebruikersnaam</span>
                  <button class="btn" id="profile-save" type="button">Opslaan</button>
                </div>
                <label class="field">
                  <input id="profile-username" type="text" placeholder="Jouw naam" aria-labelledby="profile-username-label" />
                </label>
              </div>
              <div class="avatar-block">
                <div class="avatar-block__header">
                  <h4 class="caption">Profielfoto</h4>
                  <div class="avatar-block__actions">
                    <img id="profile-avatar-inline" class="avatar avatar--small" alt="Profielfoto" hidden />
                    <button class="btn ghost" id="avatar-choose" type="button">Profielfoto kiezen</button>
                  </div>
                </div>
                <div class="avatar-picker" id="avatar-picker" hidden>
                  <div id="profile-avatar-grid" class="avatar-grid"></div>
                </div>
              </div>
            </div>

            <div class="profile-card__actions">
              <button class="btn" id="profile-login" type="button">Inloggen</button>
              <button class="btn tertiary" id="profile-register" type="button">Registreren</button>
            </div>
        </article>

          <article class="profile-card profile-card--wide">
            <header class="profile-card__header">
              <div>
                <p class="eyebrow">Mijn quizzen</p>
                <h3>Resultaten per vak</h3>
              </div>
              <span class="chip" id="profile-quiz-count">0 voltooide quizzen</span>
            </header>
            <div id="profile-quiz-list" class="profile-quiz-list">
              <p class="caption">Nog geen resultaten gevonden.</p>
            </div>
          </article>
        </div>
        <div class="profile-logout">
          <button class="btn danger full" id="profile-logout" type="button">Uitloggen</button>
        </div>
      </div>
  </section>
  </main>

  <footer class="footer">
    <p>Plak je nieuwe quizzen of samenvattingen hierboven; alles blijft lokaal opgeslagen.</p>
  </footer>
  <div id="auth-overlay" class="auth__overlay" hidden></div>
  <div id="gamejoin-overlay" class="auth__overlay" hidden></div>
  <div id="gamehost-overlay" class="auth__overlay" hidden></div>
  <section id="auth-modal" class="auth" hidden role="dialog" aria-modal="true" aria-labelledby="auth-title">
    <div class="auth__header">
      <div>
        <p class="eyebrow">Account</p>
        <h2 id="auth-title">Inloggen of registreren</h2>
        <p class="caption">Gebruik e-mail &amp; wachtwoord of meld je aan met Google.</p>
      </div>
      <button class="icon-btn" id="auth-close" aria-label="Sluit inlogvenster">×</button>
    </div>
    <form id="auth-form" class="auth__form">
      <label class="field">
        <span>E-mail</span>
        <input id="auth-email" type="email" name="email" placeholder="jij@example.com" required />
      </label>
      <label class="field">
        <span>Wachtwoord</span>
        <input id="auth-password" type="password" name="password" placeholder="••••••••" required />
      </label>
      <div class="auth__actions">
        <button class="btn" id="auth-submit" type="submit">Inloggen</button>
        <button class="btn tertiary" id="auth-toggle" type="button">Nog geen account? Registreren</button>
      </div>
      <div class="auth__divider"><span>of</span></div>
      <button class="btn google" id="google-btn" type="button">Log in met Google</button>
      <div class="message" id="auth-message" role="status"></div>
    </form>
  </section>

  <section id="gamejoin-modal" class="auth" hidden role="dialog" aria-modal="true" aria-labelledby="gamejoin-title">
    <div class="auth__header">
      <div>
        <p class="eyebrow">WoenieQuiz</p>
        <h2 id="gamejoin-title">Join code invoeren</h2>
        <p class="caption">Voer je 6-cijferige code in, bijv. 123456.</p>
      </div>
      <button class="icon-btn" id="gamejoin-close" aria-label="Sluit gamemodevenster">×</button>
    </div>
    <form id="gamejoin-form" class="auth__form" novalidate>
      <label class="field">
        <span>Code</span>
        <input id="gamejoin-code" type="text" name="code" placeholder="123456" aria-describedby="gamejoin-message" aria-invalid="false" required />
      </label>
      <div class="message" id="gamejoin-message" role="status" aria-live="polite"></div>
      <div class="auth__actions">
        <button class="btn" id="gamejoin-submit" type="submit">Meedoen</button>
        <button class="btn tertiary" id="gamejoin-host" type="button" hidden>Host Gamemode</button>
        <button class="btn ghost" id="gamejoin-cancel" type="button">Annuleren</button>
      </div>
    </form>
  </section>

  <section id="gamehost-modal" class="auth" hidden role="dialog" aria-modal="true" aria-labelledby="gamehost-title">
    <div class="auth__header">
      <div>
        <p class="eyebrow">WoenieQuiz</p>
        <h2 id="gamehost-title">Deelnemers inloggen</h2>
        <p class="caption">De QR en code zijn uniek per sessie. Deel ze met je deelnemers.</p>
      </div>
      <button class="icon-btn" id="gamehost-close" aria-label="Sluit hostvenster">×</button>
    </div>
    <div class="auth__body">
      <div class="gm-qr-frame" id="gamehost-qr" aria-label="QR code voor Join">
        <div id="gamehost-spinner" class="spinner" aria-hidden="false"></div>
      </div>
      <div class="gm-code-box">
        <div class="gm-code" id="gamehost-code">••••••</div>
        <p class="caption">Scan de QR of open Join op je toestel en voer deze 6-cijferige code in.</p>
      </div>
      <div class="message" id="gamehost-message" role="status" aria-live="polite"></div>
    </div>
    <div class="auth__actions">
      <button class="btn ghost" id="gamehost-close-2" type="button">Sluiten</button>
    </div>
  </section>

  <div id="feedback-modal" class="feedback-modal" hidden>
    <div class="feedback-modal__content">
      <h3 class="feedback-modal__title">Waarom is dit antwoord juist?</h3>
      <div class="feedback-options" id="feedback-options">
        <button class="feedback-option" data-value="correct">Dit antwoord is toch juist</button>
        <button class="feedback-option" data-value="typo">Schrijffout</button>
        <button class="feedback-option" data-value="double">Dubbele betekenis</button>
        <button class="feedback-option" data-value="other">Ander...</button>
      </div>
      <div class="feedback-input-group" id="feedback-other-container" hidden>
        <label for="feedback-other-input" class="caption">Reden:</label>
        <input type="text" id="feedback-other-input" class="feedback-input" placeholder="Typ hier je reden...">
      </div>
      <div class="feedback-actions">
        <button class="btn ghost" id="feedback-cancel">Annuleren</button>
        <button class="btn primary" id="feedback-submit">Bevestigen</button>
      </div>
    </div>
  </div>
  <script>
    window.FITROENIE_FIREBASE_CONFIG = {
      apiKey: "AIzaSyCYAs99vDWlr_CD2XJwtQG1Yg_UrUqw1cs",
      authDomain: "fitroenie.firebaseapp.com",
      projectId: "fitroenie",
      storageBucket: "fitroenie.firebasestorage.app",
      messagingSenderId: "507365551216",
      appId: "1:507365551216:web:a532c95471fed4976658b5",
      measurementId: "G-FW1TL85F3S"
    };
    window.process = window.process || { env: { NODE_ENV: 'production' } };
    window.FITROENIE_ANALYTICS_ENABLED = false;
  </script>
  <script type="module" src="script.js?v=19"></script>
</body>
</html>
